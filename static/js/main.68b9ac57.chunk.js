(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,a){e.exports=a.p+"static/media/rick-morty.e766e956.jpg"},33:function(e,t,a){e.exports=a(68)},38:function(e,t,a){},39:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(28),o=a.n(c),l=(a(38),a(39),a(1)),i=a(2),s=a(7),u=a(13),m=a(5),d=a(11),f=a.n(d),p=a(4),E=a(14),g=a(15),b=a.n(g),v=[],h={characters:[],episodes:[],loading:!0,infoPage:"",next:"",maxPage:"",users:{1:{name:"Daenerys",email:"dan@rm.com",password:"123",favoriteEpisodes:[],episodesWatched:[],favoriteCharacters:[]},2:{name:"Tyrion",email:"ty@rm.com",password:"123",favoriteEpisodes:[],episodesWatched:[],favoriteCharacters:[]},3:{name:"Jon",email:"jon@rm.com",password:"123",favoriteEpisodes:[],episodesWatched:[],favoriteCharacters:[]}},userList:["1","2","3"],loggedIn:null,error:null},O=function(e){h=Object(l.a)({},h,e),v.forEach(function(e){e(h)})},j=function(){var e=Object(n.useState)()[1];return Object(n.useEffect)(function(){v.push(e)},[]),[h,O]},w=function(e){var t=j(),a=Object(i.a)(t,2),c=a[0],o=a[1],s=c.characters,u=c.loading,d=c.next,g=c.loggedIn,v=c.users[g].favoriteCharacters;Object(n.useEffect)(function(){!function(){var e=Object(E.a)(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("https://rickandmortyapi.com/api/character/");case 2:t=e.sent,o(Object(l.a)({},c,{characters:[].concat(Object(p.a)(c.characters),Object(p.a)(t.data.results)),loading:!1},c.infoPage,{next:t.data.info.next,maxPage:t.data.info.pages}));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]);var h=function(){var e=Object(E.a)(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(d);case 2:t=e.sent,console.log(t),o(Object(l.a)({},c,{characters:[].concat(Object(p.a)(c.characters),Object(p.a)(t.data.results)),loading:!1},c.infoPage,{next:t.data.info.next,maxPage:t.data.info.pages}));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),O={color:"red",marginBottom:"20px"},w={marginBottom:"20px"};return r.a.createElement("div",null,u&&r.a.createElement("div",null,"Loading..."),!u&&s.map(function(e,t){return r.a.createElement("div",{key:t,className:"character-card",style:g&&v.includes(e.id)?O:w},r.a.createElement("div",null,"ID: ",e.id),r.a.createElement("img",{src:e.image,alt:"name"}),r.a.createElement("div",null,"Name: ",e.name),r.a.createElement("div",null,"Species: ",e.species),r.a.createElement("div",null,"Origin: ",e.origin.name),r.a.createElement("button",{onClick:function(){return function(e){if(v.includes(e)){var t=v.filter(function(t){return t!==e});o(Object(l.a)({},c,{users:Object(l.a)({},c.users,Object(m.a)({},g,Object(l.a)({},c.users[g],{favoriteCharacters:t})))}))}else o(Object(l.a)({},c,{users:Object(l.a)({},c.users,Object(m.a)({},g,Object(l.a)({},c.users[g],{favoriteCharacters:[].concat(Object(p.a)(c.users[g].favoriteCharacters),[e])})))}))}(e.id)}},"Add to Favorites"))}),!u&&r.a.createElement("button",{onClick:function(){return h()}},"Load More"))},x=function(e){return r.a.createElement(w,null)},y=function(e){var t=j(),a=Object(i.a)(t,2),c=a[0],o=a[1],s=c.episodes,u=c.loading,d=c.next,g=c.loggedIn,v=c.users[g],h=v.favoriteEpisodes;v.episodesWatched;Object(n.useEffect)(function(){!function(){var e=Object(E.a)(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get("https://rickandmortyapi.com/api/episode/");case 2:t=e.sent,console.log(t),o(Object(l.a)({},c,{episodes:[].concat(Object(p.a)(c.episodes),Object(p.a)(t.data.results)),loading:!1,next:t.data.info.next,maxPage:t.data.info.pages}));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]);var O=function(){var e=Object(E.a)(f.a.mark(function e(){var t;return f.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b.a.get(d);case 2:t=e.sent,o(Object(l.a)({},c,{episodes:[].concat(Object(p.a)(c.episodes),Object(p.a)(t.data.results)),loading:!1,next:t.data.info.next,maxPage:t.data.info.pages}));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),w={color:"red",marginBottom:"20px"},x={marginBottom:"20px"};return r.a.createElement("div",null,u&&r.a.createElement("div",null,"Loading..."),!u&&s.map(function(e,t){return r.a.createElement("div",{className:"episode-card",key:t,style:g&&h.includes(e.id)?w:x},r.a.createElement("div",null,"ID: ",e.id),r.a.createElement("div",null,"Name: ",e.name),r.a.createElement("div",null,"Air Date: ",e.air_date),r.a.createElement("div",null,"Episode: ",e.episode),r.a.createElement("a",{href:e.url},"Episode URL"),g&&r.a.createElement("button",{onClick:function(){return function(e){if(h.includes(e)){var t=h.filter(function(t){return t!==e});o(Object(l.a)({},c,{users:Object(l.a)({},c.users,Object(m.a)({},g,Object(l.a)({},c.users[g],{favoriteEpisodes:t})))}))}else o(Object(l.a)({},c,{users:Object(l.a)({},c.users,Object(m.a)({},g,Object(l.a)({},c.users[g],{favoriteEpisodes:[].concat(Object(p.a)(c.users[g].favoriteEpisodes),[e])})))}))}(e.id)}},"Add to Favorites"))}),!u&&r.a.createElement("button",{onClick:function(){return O()}},"Load More"))},C=function(e){return r.a.createElement(y,null)},k=function(e,t){var a=Object(n.useState)({email:"",password:""}),r=Object(i.a)(a,2),c=r[0],o=r[1],s=j(),u=Object(i.a)(s,2),d=u[0],f=u[1];console.log(c);var p=function(a,n){var r=E(a,n,e,t);console.log(r),f(r?Object(l.a)({},d,{loggedIn:r,error:null}):Object(l.a)({},d,{loggedIn:null,error:"Email o password incorrecto"}))},E=function(e,t,a,n){return n.find(function(n){return a[n].email===e&&a[n].password===t})};return{values:c,handleChange:function(e){var t=e.target.name,a=e.target.value;o(Object(l.a)({},c,Object(m.a)({},t,a)))},handleSubmit:function(e){e.preventDefault(),p(c.email,c.password)}}},I=function(){var e=j(),t=Object(i.a)(e,2),a=t[0],n=(t[1],a.users),c=a.userList,o=a.loggedIn,l=a.error,s=k(n,c),m=s.values,d=s.handleChange,f=s.handleSubmit;return o?r.a.createElement(u.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement("h2",null,"Log  In"),r.a.createElement("form",{onSubmit:f},r.a.createElement("label",{for:"email"},"Email"),r.a.createElement("input",{type:"email",name:"email",id:"email",onChange:d,value:m.email}),r.a.createElement("label",{for:"email"},"Password"),r.a.createElement("input",{type:"password",name:"password",id:"password",onChange:d,value:m.password}),r.a.createElement("button",{action:"submit"},"Log in"),r.a.createElement("div",null,l)))},L=function(){return r.a.createElement(I,null)},P=function(){return r.a.createElement(L,null)},S=function(){var e=Object(n.useState)({name:"",email:"",password:"",confirm:""}),t=Object(i.a)(e,2),a=t[0],c=t[1],o=j(),s=Object(i.a)(o,2),d=s[0],f=s[1],E=d.error,g=d.users,b=d.userList,v=d.loggedIn,h=new AbortController;Object(n.useEffect)(function(){return function(){return h.abort()}});var O=function(e){var t=e.target.name,n=e.target.value;c(Object(l.a)({},a,Object(m.a)({},t,n)))};return v?r.a.createElement(u.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement("h1",null,"Register"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a.password===a.confirm?b.map(function(e){return g[e].email===a.email}).includes(!0)?f(Object(l.a)({},d,{loggedIn:null,error:"This email is being used by another user"})):(f(Object(l.a)({},d,{users:Object(l.a)({},g,Object(m.a)({},b.length+1,{name:a.name,email:a.email,password:a.password,favoriteEpisodes:[],episodesWatched:[],favoriteCharacters:[]})),userList:[].concat(Object(p.a)(b),[(b.length+1).toString()]),error:null,loggedIn:b.length+1})),c({name:"",email:"",password:"",confirm:""})):f(Object(l.a)({},d,{loggedIn:null,error:"Please check the entered information."}))}},r.a.createElement("label",{htmlFor:"name"},"Name"),r.a.createElement("input",{type:"name",name:"name",id:"name",onChange:O,value:a.name,required:!0}),r.a.createElement("label",{htmlFor:"email"},"Email"),r.a.createElement("input",{type:"email",name:"email",id:"email",onChange:O,value:a.email,required:!0}),r.a.createElement("label",{htmlFor:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",id:"password",onChange:O,value:a.password,required:!0}),r.a.createElement("label",{htmlFor:"confirm"},"Confirm Password"),r.a.createElement("input",{type:"password",name:"confirm",id:"confirm",onChange:O,value:a.confirm,required:!0}),r.a.createElement("button",{action:"submit"},"Register"),r.a.createElement("div",null,E)))},N=function(e){return r.a.createElement(S,null)},B=function(e){return r.a.createElement(N,null)},W=a(31),D=function(e){var t=j(),a=Object(i.a)(t,2),n=a[0],c=(a[1],e.component),o=Object(W.a)(e,["component"]),l=n.loggedIn,s=localStorage.getItem("userId");return r.a.createElement(u.b,Object.assign({},o,{render:function(e){return l||s?r.a.createElement(c,e):r.a.createElement(u.a,{to:"/login"})}}))},F=a(32),R=a.n(F),q=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"React & Morty"),r.a.createElement("img",{src:R.a,alt:"Rick-and-morty"}))},A=function(e){var t=j(),a=Object(i.a)(t,2),n=a[0],c=(a[1],n.loggedIn),o=n.users[c].favoriteEpisodes,l=n.userList.filter(function(e){return n.users[e].favoriteEpisodes.some(function(e){return o.indexOf(e)>=0})}),s=l.filter(function(e){return e!==c.toString()}),u=s.map(function(e){return n.users[e].name});return console.log(o),console.log(l),console.log(s),console.log(u.length),r.a.createElement("div",null,r.a.createElement("h2",null,"You like some of the same episodes as:"),u.length<=0&&r.a.createElement("p",null,"No one :("),u.map(function(e,t){return r.a.createElement("ul",null,r.a.createElement("li",{key:t},e))}))},J=function(e){return r.a.createElement(A,null)},M=function(e){return r.a.createElement(J,null)};function T(){return r.a.createElement("h2",null,"404 Page not found")}var U=function(){var e=j(),t=Object(i.a)(e,2),a=t[0];return(0,t[1])(Object(l.a)({},a,{loggedIn:null})),r.a.createElement(u.a,{to:"/"})},H=function(){var e=j(),t=Object(i.a)(e,2),a=t[0],n=(t[1],a.loggedIn);return r.a.createElement("nav",{className:"NavBar"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(s.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/list"},"Episodes")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/characters"},"Characters")),r.a.createElement("li",null,r.a.createElement(s.b,{to:"/similar"},"Similar")),!n&&r.a.createElement("li",null,r.a.createElement(s.b,{to:"/register"},"Register")),!n&&r.a.createElement("li",null,r.a.createElement(s.b,{to:"/login"},"Log In")),n&&r.a.createElement("li",null,r.a.createElement(s.b,{to:"/logout"},"Log Out")),r.a.createElement("li",null,"User: ",n?a.users[n].name:"")))},Y=function(){return r.a.createElement(s.a,null,r.a.createElement("div",null,r.a.createElement(H,null),r.a.createElement(n.Suspense,{fallback:r.a.createElement("h1",null,"Loading...")},r.a.createElement(u.d,null,r.a.createElement(u.b,{exact:!0,path:"/",component:q}),r.a.createElement(D,{exact:!0,path:"/list",component:C}),r.a.createElement(D,{exact:!0,path:"/characters",component:x}),r.a.createElement(D,{exact:!0,path:"/similar",component:M}),r.a.createElement(u.b,{exact:!0,path:"/login",component:P}),r.a.createElement(u.b,{exact:!0,path:"/register",component:B}),r.a.createElement(u.b,{exact:!0,path:"/logout",component:U}),r.a.createElement(u.b,{path:"*",component:T})))))};var $=function(){return r.a.createElement(Y,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement($,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.68b9ac57.chunk.js.map