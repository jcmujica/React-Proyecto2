(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,a){e.exports=a.p+"static/media/rick-morty.e766e956.jpg"},33:function(e,t,a){e.exports=a(68)},38:function(e,t,a){},39:function(e,t,a){},68:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(28),o=a.n(c),l=(a(38),a(39),a(2)),i=a(10),s=a(13),u=a(5),m=a(11),d=a.n(m),f=a(4),p=a(1),E=a(14),b=a(15),g=a.n(b),v=[],h={characters:[],episodes:[],loading:!0,infoPage:"",next:"",maxPage:"",users:{1:{email:"dan@rm.com",password:"123",favoriteEpisodes:[4],episodesWatched:[],favoriteCharacters:[]},2:{email:"ty@rm.com",password:"123",favoriteEpisodes:[],episodesWatched:[],favoriteCharacters:[]},3:{email:"jon@rm.com",password:"123",favoriteEpisodes:[4,1],episodesWatched:[],favoriteCharacters:[]}},userList:["1","2","3"],loggedIn:1,error:null},j=function(e){h=Object(p.a)({},h,e),v.forEach(function(e){e(h)})},O=function(){var e=Object(n.useState)()[1];return Object(n.useEffect)(function(){v.push(e)},[]),[h,j]},w=function(e){var t=O(),a=Object(l.a)(t,2),c=a[0],o=a[1],i=c.characters,s=c.loading,m=c.next,b=c.loggedIn,v=c.users[b].favoriteCharacters;Object(n.useEffect)(function(){!function(){var e=Object(E.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("https://rickandmortyapi.com/api/character/");case 2:t=e.sent,o(Object(p.a)({},c,{characters:[].concat(Object(f.a)(c.characters),Object(f.a)(t.data.results)),loading:!1},c.infoPage,{next:t.data.info.next,maxPage:t.data.info.pages}));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]);var h=function(){var e=Object(E.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get(m);case 2:t=e.sent,console.log(t),o(Object(p.a)({},c,{characters:[].concat(Object(f.a)(c.characters),Object(f.a)(t.data.results)),loading:!1},c.infoPage,{next:t.data.info.next,maxPage:t.data.info.pages}));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),j={color:"red",marginBottom:"20px"},w={marginBottom:"20px"};return r.a.createElement("div",null,s&&r.a.createElement("div",null,"Loading..."),!s&&i.map(function(e,t){return r.a.createElement("div",{key:t,className:"character-card",style:b&&v.includes(e.id)?j:w},r.a.createElement("div",null,"ID: ",e.id),r.a.createElement("img",{src:e.image,alt:"name"}),r.a.createElement("div",null,"Name: ",e.name),r.a.createElement("div",null,"Species: ",e.species),r.a.createElement("div",null,"Origin: ",e.origin.name),r.a.createElement("button",{onClick:function(){return function(e){if(v.includes(e)){var t=v.filter(function(t){return t!==e});o(Object(p.a)({},c,{users:Object(p.a)({},c.users,Object(u.a)({},b,Object(p.a)({},c.users[b],{favoriteCharacters:t})))}))}else o(Object(p.a)({},c,{users:Object(p.a)({},c.users,Object(u.a)({},b,Object(p.a)({},c.users[b],{favoriteCharacters:[].concat(Object(f.a)(c.users[b].favoriteCharacters),[e])})))}))}(e.id)}},"Add to Favorites"))}),!s&&r.a.createElement("button",{onClick:function(){return h()}},"Load More"))},x=function(e){return r.a.createElement(w,null)},y=function(e){var t=O(),a=Object(l.a)(t,2),c=a[0],o=a[1],i=c.episodes,s=c.loading,m=c.next,b=c.loggedIn,v=c.users[b],h=v.favoriteEpisodes;v.episodesWatched;Object(n.useEffect)(function(){!function(){var e=Object(E.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("https://rickandmortyapi.com/api/episode/");case 2:t=e.sent,console.log(t),o(Object(p.a)({},c,{episodes:[].concat(Object(f.a)(c.episodes),Object(f.a)(t.data.results)),loading:!1,next:t.data.info.next,maxPage:t.data.info.pages}));case 5:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}()()},[]);var j=function(){var e=Object(E.a)(d.a.mark(function e(){var t;return d.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get(m);case 2:t=e.sent,o(Object(p.a)({},c,{episodes:[].concat(Object(f.a)(c.episodes),Object(f.a)(t.data.results)),loading:!1,next:t.data.info.next,maxPage:t.data.info.pages}));case 4:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),w={color:"red",marginBottom:"20px"},x={marginBottom:"20px"};return r.a.createElement("div",null,s&&r.a.createElement("div",null,"Loading..."),!s&&i.map(function(e,t){return r.a.createElement("div",{className:"episode-card",key:t,style:b&&h.includes(e.id)?w:x},r.a.createElement("div",null,"ID: ",e.id),r.a.createElement("div",null,"Name: ",e.name),r.a.createElement("div",null,"Air Date: ",e.air_date),r.a.createElement("div",null,"Episode: ",e.episode),r.a.createElement("a",{href:e.url},"Episode URL"),b&&r.a.createElement("button",{onClick:function(){return function(e){if(h.includes(e)){var t=h.filter(function(t){return t!==e});o(Object(p.a)({},c,{users:Object(p.a)({},c.users,Object(u.a)({},b,Object(p.a)({},c.users[b],{favoriteEpisodes:t})))}))}else o(Object(p.a)({},c,{users:Object(p.a)({},c.users,Object(u.a)({},b,Object(p.a)({},c.users[b],{favoriteEpisodes:[].concat(Object(f.a)(c.users[b].favoriteEpisodes),[e])})))}))}(e.id)}},"Add to Favorites"))}),!s&&r.a.createElement("button",{onClick:function(){return j()}},"Load More"))},C=function(e){return r.a.createElement(y,null)},k=function(e,t){var a=Object(n.useState)({email:"",password:""}),r=Object(l.a)(a,2),c=r[0],o=r[1],i=O(),s=Object(l.a)(i,2),m=s[0],d=s[1];console.log(c);var f=function(a,n){var r=E(a,n,e,t);console.log(r),d(r?Object(p.a)({},m,{loggedIn:r,error:null}):Object(p.a)({},m,{loggedIn:null,error:"Email o password incorrecto"}))},E=function(e,t,a,n){return n.find(function(n){return a[n].email===e&&a[n].password===t})};return{values:c,handleChange:function(e){var t=e.target.name,a=e.target.value;o(Object(p.a)({},c,Object(u.a)({},t,a)))},handleSubmit:function(e){e.preventDefault(),f(c.email,c.password)}}},I=function(){var e=O(),t=Object(l.a)(e,2),a=t[0],n=(t[1],a.users),c=a.userList,o=a.loggedIn,i=a.error,u=k(n,c),m=u.values,d=u.handleChange,f=u.handleSubmit;return o?r.a.createElement(s.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement("h2",null,"Log  In"),r.a.createElement("form",{onSubmit:f},r.a.createElement("label",{for:"email"},"Email"),r.a.createElement("input",{type:"email",name:"email",id:"email",onChange:d,value:m.email}),r.a.createElement("label",{for:"email"},"Password"),r.a.createElement("input",{type:"password",name:"password",id:"password",onChange:d,value:m.password}),r.a.createElement("button",{action:"submit"},"Log in"),r.a.createElement("div",null,i)))},L=function(){return r.a.createElement(I,null)},P=function(){return r.a.createElement(L,null)},S=function(){var e=Object(n.useState)({email:"",password:"",confirm:""}),t=Object(l.a)(e,2),a=t[0],c=t[1],o=O(),i=Object(l.a)(o,2),s=i[0],m=i[1],d=s.error,E=s.users,b=s.userList,g=new AbortController;Object(n.useEffect)(function(){return function(){return g.abort()}});var v=function(e){var t=e.target.name,n=e.target.value;c(Object(p.a)({},a,Object(u.a)({},t,n)))};return r.a.createElement("div",null,r.a.createElement("h1",null,"Register"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),a.password===a.confirm?b.map(function(e){return E[e].email===a.email}).includes(!0)?m(Object(p.a)({},s,{loggedIn:null,error:"This email is being used by another user"})):m(Object(p.a)({},s,{users:Object(p.a)({},E,Object(u.a)({},b.length+1,{email:a.email,password:a.password,favoriteEpisodes:[],episodesWatched:[],favoriteCharacters:[]})),userList:[].concat(Object(f.a)(b),[(b.length+1).toString()]),error:null})):m(Object(p.a)({},s,{loggedIn:null,error:"Please check the entered information."}))}},r.a.createElement("label",{for:"email"},"Email"),r.a.createElement("input",{type:"email",name:"email",id:"email",onChange:v,value:a.email,required:!0}),r.a.createElement("label",{for:"password"},"Password"),r.a.createElement("input",{type:"password",name:"password",id:"password",onChange:v,value:a.password,required:!0}),r.a.createElement("label",{for:"confirm"},"Confirm Password"),r.a.createElement("input",{type:"password",name:"confirm",id:"confirm",onChange:v,value:a.confirm,required:!0}),r.a.createElement("button",{action:"submit"},"Register"),r.a.createElement("div",null,d)))},B=function(e){return r.a.createElement(S,null)},W=function(e){return r.a.createElement(B,null)},N=a(31),R=function(e){var t=O(),a=Object(l.a)(t,2),n=a[0],c=(a[1],e.component),o=Object(N.a)(e,["component"]),i=n.loggedIn,u=localStorage.getItem("userId");return r.a.createElement(s.b,Object.assign({},o,{render:function(e){return i||u?r.a.createElement(c,e):r.a.createElement(s.a,{to:"/login"})}}))},D=a(32),A=a.n(D),q=function(e){return r.a.createElement("div",null,r.a.createElement("h1",null,"React & Morty"),r.a.createElement("img",{src:A.a,alt:"Rick-and-morty"}))},M=function(e){var t=O(),a=Object(l.a)(t,2),n=a[0],c=(a[1],n.loggedIn),o=n.users[c].favoriteEpisodes,i=n.users;return console.log(o),console.log(i),r.a.createElement("div",null,r.a.createElement("h2",null,"You like some of the same episodes as:"))},F=function(e){return r.a.createElement(M,null)},J=function(e){return r.a.createElement(F,null)};function H(){return r.a.createElement("h2",null,"404 Page not found")}var T=function(){var e=O(),t=Object(l.a)(e,2),a=t[0],n=(t[1],a.loggedIn);return r.a.createElement("nav",{className:"NavBar"},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/list"},"Episodes")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/characters"},"Characters")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/similar"},"Similar")),!n&&r.a.createElement("li",null,r.a.createElement(i.b,{to:"/login"},"Log In")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/register"},"Register"))))},U=function(){return r.a.createElement(i.a,null,r.a.createElement("div",null,r.a.createElement(T,null),r.a.createElement(n.Suspense,{fallback:r.a.createElement("h1",null,"Loading...")},r.a.createElement(s.d,null,r.a.createElement(s.b,{exact:!0,path:"/",component:q}),r.a.createElement(R,{exact:!0,path:"/list",component:C}),r.a.createElement(R,{exact:!0,path:"/characters",component:x}),r.a.createElement(R,{exact:!0,path:"/similar",component:J}),r.a.createElement(s.b,{exact:!0,path:"/login",component:P}),r.a.createElement(s.b,{exact:!0,path:"/register",component:W}),r.a.createElement(s.b,{path:"*",component:H})))))};var Y=function(){return r.a.createElement(U,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(r.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[33,1,2]]]);
//# sourceMappingURL=main.05d58124.chunk.js.map